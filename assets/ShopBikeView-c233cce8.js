import{S as L,B as G}from"./BannerComponent-32be86f1.js";import{r as y,o as x,c as k,d as t,t as i,a as $,w as S,I as O,b as N,h as Y,K as U,F as E,f as w,g as D,R as K,a5 as J,B as R,_ as j,L as Q,C as W}from"./index-edfc45b8.js";import{g as Z,i as ee,e as te,n as V,b as A,S as X,a as z,N as H}from"./navigation.min-e27784ca.js";import{_ as se}from"./bike_icon-fcbb3ac1.js";import"./page-title-bg-196c08fc.js";function oe({swiper:e,extendParams:_,on:h}){_({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let g=!1,r=!1;e.thumbs={swiper:null};function f(){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const o=s.clickedIndex,m=s.clickedSlide;if(m&&m.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof o>"u"||o===null)return;let a;s.params.loop?a=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10):a=o,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function p(){const{thumbs:s}=e.params;if(g)return!1;g=!0;const o=e.constructor;if(s.swiper instanceof o)e.thumbs.swiper=s.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(ee(s.swiper)){const m=Object.assign({},s.swiper);Object.assign(m,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new o(m),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",f),!0}function l(s){const o=e.thumbs.swiper;if(!o||o.destroyed)return;const m=o.params.slidesPerView==="auto"?o.slidesPerViewDynamic():o.params.slidesPerView;let a=1;const d=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),o.slides.forEach(c=>c.classList.remove(d)),o.params.loop||o.params.virtual&&o.params.virtual.enabled)for(let c=0;c<a;c+=1)te(o.slidesEl,`[data-swiper-slide-index="${e.realIndex+c}"]`).forEach(u=>{u.classList.add(d)});else for(let c=0;c<a;c+=1)o.slides[e.realIndex+c]&&o.slides[e.realIndex+c].classList.add(d);const T=e.params.thumbs.autoScrollOffset,M=T&&!o.params.loop;if(e.realIndex!==o.realIndex||M){const c=o.activeIndex;let u,n;if(o.params.loop){const I=o.slides.filter(B=>B.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];u=o.slides.indexOf(I),n=e.activeIndex>e.previousIndex?"next":"prev"}else u=e.realIndex,n=u>e.previousIndex?"next":"prev";M&&(u+=n==="next"?T:-1*T),o.visibleSlidesIndexes&&o.visibleSlidesIndexes.indexOf(u)<0&&(o.params.centeredSlides?u>c?u=u-Math.floor(m/2)+1:u=u+Math.floor(m/2)-1:u>c&&o.params.slidesPerGroup,o.slideTo(u,s?0:void 0))}}h("beforeInit",()=>{const{thumbs:s}=e.params;if(!(!s||!s.swiper))if(typeof s.swiper=="string"||s.swiper instanceof HTMLElement){const o=Z(),m=()=>{const d=typeof s.swiper=="string"?o.querySelector(s.swiper):s.swiper;if(d&&d.swiper)s.swiper=d.swiper,p(),l(!0);else if(d){const T=M=>{s.swiper=M.detail[0],d.removeEventListener("init",T),p(),l(!0),s.swiper.update(),e.update()};d.addEventListener("init",T)}return d},a=()=>{if(e.destroyed)return;m()||requestAnimationFrame(a)};requestAnimationFrame(a)}else p(),l(!0)}),h("slideChange update resize observerUpdate",()=>{l()}),h("setTransition",(s,o)=>{const m=e.thumbs.swiper;!m||m.destroyed||m.setTransition(o)}),h("beforeDestroy",()=>{const s=e.thumbs.swiper;!s||s.destroyed||r&&s.destroy()}),Object.assign(e.thumbs,{init:p,update:l})}function ie({swiper:e,extendParams:_,emit:h,once:g}){_({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function f(){const{touchEventsData:l,touches:s}=e;l.velocities.length===0&&l.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:V()})}function p({currentPos:l}){const{params:s,wrapperEl:o,rtlTranslate:m,snapGrid:a,touchEventsData:d}=e,M=V()-d.touchStartTime;if(l<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(l>-e.maxTranslate()){e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);return}if(s.freeMode.momentum){if(d.velocities.length>1){const b=d.velocities.pop(),v=d.velocities.pop(),q=b.position-v.position,F=b.time-v.time;e.velocity=q/F,e.velocity/=2,Math.abs(e.velocity)<s.freeMode.minimumVelocity&&(e.velocity=0),(F>150||V()-b.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=s.freeMode.momentumVelocityRatio,d.velocities.length=0;let c=1e3*s.freeMode.momentumRatio;const u=e.velocity*c;let n=e.translate+u;m&&(n=-n);let I=!1,B;const C=Math.abs(e.velocity)*20*s.freeMode.momentumBounceRatio;let P;if(n<e.maxTranslate())s.freeMode.momentumBounce?(n+e.maxTranslate()<-C&&(n=e.maxTranslate()-C),B=e.maxTranslate(),I=!0,d.allowMomentumBounce=!0):n=e.maxTranslate(),s.loop&&s.centeredSlides&&(P=!0);else if(n>e.minTranslate())s.freeMode.momentumBounce?(n-e.minTranslate()>C&&(n=e.minTranslate()+C),B=e.minTranslate(),I=!0,d.allowMomentumBounce=!0):n=e.minTranslate(),s.loop&&s.centeredSlides&&(P=!0);else if(s.freeMode.sticky){let b;for(let v=0;v<a.length;v+=1)if(a[v]>-n){b=v;break}Math.abs(a[b]-n)<Math.abs(a[b-1]-n)||e.swipeDirection==="next"?n=a[b]:n=a[b-1],n=-n}if(P&&g("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(m?c=Math.abs((-n-e.translate)/e.velocity):c=Math.abs((n-e.translate)/e.velocity),s.freeMode.sticky){const b=Math.abs((m?-n:n)-e.translate),v=e.slidesSizesGrid[e.activeIndex];b<v?c=s.speed:b<2*v?c=s.speed*1.5:c=s.speed*2.5}}else if(s.freeMode.sticky){e.slideToClosest();return}s.freeMode.momentumBounce&&I?(e.updateProgress(B),e.setTransition(c),e.setTranslate(n),e.transitionStart(!0,e.swipeDirection),e.animating=!0,A(o,()=>{!e||e.destroyed||!d.allowMomentumBounce||(h("momentumBounce"),e.setTransition(s.speed),setTimeout(()=>{e.setTranslate(B),A(o,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(h("_freeModeNoMomentumRelease"),e.updateProgress(n),e.setTransition(c),e.setTranslate(n),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,A(o,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(n),e.updateActiveIndex(),e.updateSlidesClasses()}else if(s.freeMode.sticky){e.slideToClosest();return}else s.freeMode&&h("_freeModeNoMomentumRelease");(!s.freeMode.momentum||M>=s.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:f,onTouchEnd:p}})}const ne={class:"container mt-6 grid grid-cols-4 gap-y-4 border-dark-gray lg:mb-3 lg:mt-12 lg:grid-cols-12 lg:gap-6 lg:border-b lg:pb-20"},le={class:"col-span-4 flex items-center justify-between text-2xl text-42px leading-normal lg:col-span-12"},ae={class:"text-orange-pink"},re={class:"block text-sm text-dark-gray lg:text-xl"},ce={class:"text-orange-pink"},de={class:"col-span-9"},me=t("i",{class:"fa-regular fa-heart block"},null,-1),ue=t("span",{class:"ml-2 block"},"加入收藏",-1),he=[me,ue],pe={class:"mt-4 lg:mt-6"},_e=["src"],fe=["src"],ge={class:"mt-4 border-b border-dark-gray pb-4 lg:mt-6 lg:pb-8"},be={class:"mb-2 text-2xl lg:mb-0 lg:text-42px lg:leading-normal"},xe=t("br",null,null,-1),ve=["innerHTML"],ke={class:"mt-4 border-b border-dark-gray pb-4 lg:mt-6 lg:grid lg:grid-cols-9 lg:gap-x-6 lg:border-0 lg:pb-0"},ye={class:"lg:col-span-6 lg:col-start-3"},Te=t("h5",{class:"border-dark-gray text-center lg:border-b lg:pb-2 lg:text-32px lg:leading-normal"}," 規格表 ",-1),Se={class:"font-sans-tc mt-2 md:mx-auto md:w-fit lg:mt-6 lg:w-full"},$e={class:"[&>*:nth-child(even)]:bg-dark-gray [&>*]:p-4"},Me={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Be=t("td",{width:"50%"},"品牌",-1),Ie={width:"50%"},Ce={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Ee=t("td",null,"車款",-1),Pe={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Ve=t("td",null,"排氣量",-1),Ae={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Le=t("td",null,"最大馬力",-1),Oe={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},we=t("td",null,"最大扭力",-1),De={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Re=t("td",null,"引擎型式",-1),je={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Fe=t("td",null,"缸徑 X 行程",-1),Ne={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Ue=t("td",null,"壓縮比",-1),Xe={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},ze=t("td",null,"傳動方式",-1),He={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},qe=t("td",null,"座高",-1),Ge={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Ye=t("td",null,"油箱",-1),Ke={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},Je=t("td",null,"車重",-1),Qe={class:"[&>*:first-child]:py-2 [&>*:first-child]:text-center"},We=t("td",null,"車長 X 車寬 X 車高",-1),Ze={class:"col-span-4 lg:col-span-3"},et={class:"sticky top-[86px]"},tt=U('<div class="bg-orange-pink lg:p-4"><div class="items-center justify-between p-4 text-light-white lg:flex lg:p-0"><div><h4 class="text-2xl lg:text-32px lg:leading-normal"> 銷售聯絡資訊 </h4><p class="text-sm lg:mt-2">有問題請聯絡 !</p></div><img class="hidden lg:block" src="'+se+'"></div></div>',1),st={class:"bg-light-white text-smoke-dark"},ot=U('<h4 class="border-b border-smoke-dark py-4 text-center text-32px leading-normal lg:border-0 lg:text-42px"> Rent Ride </h4><a href="mailto:rentride@gmail.com" class="group flex items-center gap-x-3 border-smoke-dark px-4 pt-2 lg:border-b lg:py-8"><i class="fa-regular fa-paper-plane lg:text-2xl"></i><span class="block text-2xl transition-transform duration-300 group-hover:scale-105">rentride@gmail.com</span></a><a href="tel:+0932857448" class="group flex items-center gap-x-3 border-smoke-dark px-4 pt-2 lg:border-b lg:py-8"><i class="fa-solid fa-phone-volume lg:text-2xl"></i><span class="block text-2xl transition-transform duration-300 group-hover:scale-105">0932857448</span></a>',3),it={class:"p-4 lg:py-6 lg:px-4"};function nt(e,_,h,g,r,f){const p=y("swiper-slide"),l=y("swiper");return x(),k("section",ne,[t("h3",le,[t("div",null,[t("p",ae,i(e.bike.year)+" "+i(e.bike.model),1),t("span",re,i(r.article.slogan),1)]),t("div",null,[t("strong",ce,"$ "+i(e.bike.price),1)])]),t("div",de,[t("button",{class:"btn flex border-orange-pink bg-orange-pink text-light-white hover:bg-[#FF886E]",onClick:_[0]||(_[0]=(...s)=>f.addFavorite&&f.addFavorite(...s))},he),t("div",pe,[$(l,O({modules:r.modules},r.swiperTopOptions,{class:"swiper swiperTop",onSwiper:f.setThumbsSwiper,"data-swiper":"swiperTop"}),{default:S(()=>[(x(!0),k(E,null,w(e.bike.images,(s,o)=>(x(),D(p,{key:o},{default:S(()=>[t("img",{src:s,alt:""},null,8,_e)]),_:2},1024))),128))]),_:1},16,["modules","onSwiper"]),$(l,O({modules:r.modules},r.swiperThumbsOptions,{thumbs:{swiper:r.thumbsSwiper},class:"swiper swiperThumbs mt-4 lg:mt-6","data-swiper":"swiperThumbs"}),{default:S(()=>[(x(!0),k(E,null,w(e.bike.images,(s,o)=>(x(),D(p,{key:o,class:"hover:cursor-pointer hover:opacity-100"},{default:S(()=>[t("img",{src:s,alt:""},null,8,fe)]),_:2},1024))),128))]),_:1},16,["modules","thumbs"])]),t("article",ge,[t("h4",be,[N(i(e.bike.model),1),xe,N(" "+i(r.article.title),1)]),t("p",{class:"lg:mt-4 lg:text-base",innerHTML:r.article.content},null,8,ve)]),t("div",ke,[t("div",ye,[Te,t("table",Se,[t("tbody",$e,[t("tr",Me,[Be,t("td",Ie,i(e.bike.make),1)]),t("tr",Ce,[Ee,t("td",null,i(e.bike.model),1)]),t("tr",Pe,[Ve,t("td",null,i(e.bike.displacement)+"cc",1)]),t("tr",Ae,[Le,t("td",null,i(e.bike.horsepower),1)]),t("tr",Oe,[we,t("td",null,i(e.bike.torque),1)]),t("tr",De,[Re,t("td",null,i(e.bike.engine),1)]),t("tr",je,[Fe,t("td",null,i(e.bike.bore)+" X "+i(e.bike.stroke),1)]),t("tr",Ne,[Ue,t("td",null,i(e.bike.compression_ratio),1)]),t("tr",Xe,[ze,t("td",null,i(e.bike.transmission),1)]),t("tr",He,[qe,t("td",null,i(e.bike.seat_height),1)]),t("tr",Ge,[Ye,t("td",null,i(e.bike.fuel_capacity),1)]),t("tr",Ke,[Je,t("td",null,i(e.bike.weight),1)]),t("tr",Qe,[We,t("td",null,i(e.bike.length)+" X "+i(e.bike.width)+" X "+i(e.bike.height)+" mm ",1)])])])])])]),t("div",Ze,[t("div",et,[tt,t("div",st,[ot,t("div",it,[t("a",{class:"btn-primary btn w-full",onClick:_[1]||(_[1]=Y(s=>f.checkUser(e.bike.id),["prevent"]))},"預約賞車")])])])])])}const lt={components:{Swiper:X,SwiperSlide:z,RouterLink:K},data(){const e=J.mixin({toast:!0,position:"top-right",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0});return{modules:[H,oe,ie],thumbsSwiper:null,swiperTopOptions:{loop:!0,allowTouchMove:!1},swiperThumbsOptions:{spaceBetween:24,slidesPerView:3,loop:!0,watchSlidesProgress:!0,navigation:!0,slideToClickedSlide:!0,centeredSlides:!0},article:{},favoriteData:{},toast:e}},computed:{...R(L,["bike","VITE_URL"]),...R(Q,["user","isLoggedIn"])},methods:{setThumbsSwiper(e){this.thumbsSwiper=e},getArticle(e){const _="buyBikeArticles",h=`${this.VITE_URL}/motorcycles/${e}/${_}`;this.$http.get(h).then(g=>{const{data:r}=g;if(r.length<=0)return;const[f]=r;this.article=f}).catch(g=>{console.log(g)})},checkUser(e){this.isLoggedIn?this.$router.push(`/shop/shopOrder/${e}`):this.$swal({title:"請登入後繼續",icon:"error",confirmButtonText:"確定"})},addFavorite(){const e="favorites",_=`${this.VITE_URL}/${e}`,{make:h,type:g,year:r,model:f,grade:p,id:l,imgUrl:s}=this.bike;this.favoriteData={bike_brand:h,bike_type:g,bike_year:r,bike_model:f,bike_grade:p,bike_id:l,imgUrl:s,userId:this.user.id},this.$http.post(_,this.favoriteData).then(()=>{this.toast.fire({position:"bottom-end",icon:"success",title:"收藏成功"})}).catch(o=>{alert(o.response.data)})}},mounted(){this.getArticle(this.$route.params.id)},watch:{$route(){this.getArticle(this.$route.params.id)}}},at=j(lt,[["render",nt]]),rt={class:"container relative mt-6 mb-10 lg:mb-20 lg:mt-0"},ct={key:0},dt=t("h5",{class:"absolute"},"相似的車型還有...",-1),mt={class:"group relative h-full bg-light-white transition-shadow duration-300"},ut={class:"flex justify-between p-3 lg:p-10"},ht={class:"text-smoke-dark"},pt={class:"text-xl text-orange-pink"},_t={class:"overflow-hidden bg-light-gray lg:h-[320px] lg:py-6"},ft=["src"],gt={class:"font-sans-tc mt-3 flex justify-center text-center text-smoke-dark lg:mt-0 lg:py-8"},bt={class:"px-4 lg:px-7"},xt=t("p",null,"年份",-1),vt={class:"lg:pt-2"},kt={class:"border-x border-light-gray px-4 lg:px-7"},yt=t("p",null,"車型",-1),Tt={class:"lg:pt-2"},St={class:"px-4 lg:px-7"},$t=t("p",null,"品牌",-1),Mt={class:"lg:pt-2"},Bt={class:"font-sans-tc mt-3 grid grid-cols-2 gap-2 border-t border-light-gray p-3 text-smoke-dark md:text-center lg:mt-0 lg:gap-7 lg:p-8 lg:text-left"},It={class:"text-sm text-dark-gray"},Ct=t("p",null,"引擎",-1),Et={class:"mt-1 block"},Pt={class:"text-sm text-dark-gray"},Vt=t("p",null,"馬力",-1),At={class:"mt-1 block"},Lt={class:"text-sm text-dark-gray"},Ot=t("p",null,"排氣量",-1),wt={class:"mt-1 block"},Dt={class:"text-sm text-dark-gray"},Rt=t("p",null,"扭力",-1),jt={class:"mt-1 block"},Ft=t("span",{class:"position-center absolute"},"查看更多",-1),Nt=t("div",{class:"absolute top-1 right-[46px] z-10 h-6 w-1 bg-white sm:right-[76px] lg:right-[78px]"},null,-1),Ut={key:1,class:"h-[30vh]"},Xt=t("h3",{class:"position-center absolute"},"目前沒有其他相似車型販售",-1),zt=[Xt];function Ht(e,_,h,g,r,f){const p=y("router-link"),l=y("swiper-slide"),s=y("swiper");return x(),k("section",rt,[e.similarBikes.length>0?(x(),k("div",ct,[dt,$(s,O({modules:r.modules},r.swiperOptions,{"data-swiper":"similarSwiper",class:"h-[550px] lg:h-[800px]"}),{default:S(()=>[(x(!0),k(E,null,w(e.similarBikes,o=>(x(),D(l,{key:o.id},{default:S(()=>[t("div",mt,[t("div",ut,[t("h5",ht,i(o.model),1),t("strong",pt,"$ "+i(o.price),1)]),t("div",_t,[t("img",{class:"mx-auto h-60 object-cover transition-transform duration-500 lg:h-full",src:o.imgUrl},null,8,ft)]),t("ul",gt,[t("div",bt,[xt,t("p",vt,i(o.year),1)]),t("div",kt,[yt,t("p",Tt,i(o.type),1)]),t("div",St,[$t,t("p",Mt,i(o.make),1)])]),t("div",Bt,[t("div",It,[Ct,t("span",Et,i(o.engine),1)]),t("div",Pt,[Vt,t("span",At,i(o.horsepower),1)]),t("div",Lt,[Ot,t("span",wt,i(o.displacement)+" cc",1)]),t("div",Dt,[Rt,t("span",jt,i(o.torque),1)])]),$(p,{to:`/shop/motorcycles/${o.id}`,class:"absolute inset-0 bg-smoke-dark/50 opacity-0 transition-opacity duration-300 group-active:opacity-100 lg:group-hover:opacity-100"},{default:S(()=>[Ft]),_:2},1032,["to"])])]),_:2},1024))),128)),Nt]),_:1},16,["modules"])])):(x(),k("div",Ut,zt))])}const qt={components:{Swiper:X,SwiperSlide:z},data(){return{modules:[H],swiperOptions:{navigation:!0,slidesPerView:1,spaceBetween:12,breakpoints:{768:{slidesPerView:2,spaceBetween:12},1024:{slidesPerView:3,spaceBetween:24}}}}},computed:{...R(L,["bike","similarBikes"])},methods:{...W(L,["getBikes"])},mounted(){this.getBikes()}},Gt=j(qt,[["render",Ht]]);function Yt(e,_,h,g,r,f){const p=y("banner-component"),l=y("bike-component"),s=y("similar-bikes-component");return x(),k(E,null,[$(p),$(l),$(s)],64)}const Kt={name:"ShopBikeView",components:{BannerComponent:G,BikeComponent:at,SimilarBikesComponent:Gt}},ts=j(Kt,[["render",Yt]]);export{ts as default};
