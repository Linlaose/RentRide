import{z as u,A as h,r as _,o as i,c as a,d as l,a as m,w as g,t as c,b as k,B as f,C as B,_ as S}from"./index-edfc45b8.js";import{_ as $}from"./page-title-bg-196c08fc.js";const p=u("shopStore",{state:()=>({originalBikes:[],VITE_URL:"https://rent-ride-server-linlaose.vercel.app",options:{type:null,make:null,displacement:null,year:null},bikes:[],onSearch:!1,onSaleBikes:[],shopBike:{}}),getters:{searchBike:({onSaleBikes:e,options:o})=>e.filter(t=>Object.entries(o).every(([s,n])=>{if(s==="displacement"&&n!==null){const r=JSON.parse(n);return r.length<=1?t[s]>=r[0]&&t[s]!==r[1]:t[s]<=r[r.length-1]&&t[s]>=r[0]}return s==="year"&&n!==null?t[s]>=n:t[s]===n||n===null})),searchOptions:({options:e})=>e,bike:({shopBike:e})=>e,similarBikes:({originalBikes:e,shopBike:o})=>e.filter(t=>t.type===o.type&&t.on_sale===o.on_sale&&t.model!==o.model)},actions:{getBikes(){const e="motorcycles",o=`${this.VITE_URL}/${e}`;h.get(o).then(t=>{const{data:s}=t;this.originalBikes=s,this.filterOnSale()}).catch(t=>{console.log(t)})},search(){this.filterOnSale(),this.onSaleBikes=this.searchBike,this.onSearch=!0},clearSearch(){this.options={type:null,make:null,displacement:null,year:null},this.onSearch=!1,this.filterOnSale()},filterOnSale(){this.onSaleBikes=this.originalBikes.filter(e=>e.on_sale)},getBike(e){const o="motorcycles",t=`${this.VITE_URL}/${o}/${e}`;h.get(t).then(s=>{const{data:n}=s;this.shopBike=n}).catch(s=>{alert(s)})}}}),x={class:"relative"},y=l("img",{src:$},null,-1),b={class:"position-center container absolute"},O={class:"flex items-center gap-3 text-base lg:text-xl"},V={class:"flex items-center gap-3"},T=l("i",{class:"fa-solid fa-circle text-6px text-orange-pink"},null,-1),E={class:"text-orange-pink"},I={key:0},w={key:1},A={key:2},C={key:0,class:"hidden text-orange-pink lg:mt-8 lg:block lg:text-66px"},N={key:1,class:"hidden text-orange-pink lg:mt-8 lg:block lg:text-66px"},L={key:2,class:"hidden text-orange-pink lg:mt-8 lg:block lg:text-66px"};function R(e,o,t,s,n,r){const d=_("router-link");return i(),a("section",x,[y,l("nav",b,[l("ol",O,[l("li",null,[m(d,{to:"/"},{default:g(()=>[k("首頁")]),_:1})]),l("li",V,[T,l("div",E,[e.$route.params.id?(i(),a("p",I,c(e.bike.year)+" "+c(e.bike.model),1)):e.$route.path==="/shop/shopOrder"?(i(),a("p",w,"確認預約[賞車]")):(i(),a("p",A,"重機商城"))])])]),e.$route.params.id?(i(),a("h2",C,c(e.bike.year)+" "+c(e.bike.model),1)):e.$route.path==="/shop/shopOrder"?(i(),a("h2",N," 確認預約[賞車] ")):(i(),a("h2",L," 重機商城 "))])])}const U={computed:{...f(p,["bike"])},methods:{...B(p,["getBike"])},mounted(){this.$route.params.id&&this.getBike(this.$route.params.id)},watch:{$route(){this.getBike(this.$route.params.id)}}},P=S(U,[["render",R]]);export{P as B,p as S};
